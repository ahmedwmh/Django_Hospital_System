{% extends "admin/change_list.html" %}
{% load i18n admin_urls static admin_list %}

{% block title %}{{ title }} | {% trans 'ŸÜÿ∏ÿßŸÖ ÿ•ÿØÿßÿ±ÿ© ÿßŸÑŸÖÿ≥ÿ™ÿ¥ŸÅŸâ' %}{% endblock %}

{% block extrahead %}
{{ block.super }}
<style>
    /* CLEAN FLEXBOX LAYOUT - SIDEBAR & TABLE SIDE BY SIDE */
    
    /* Hide default Django filter */
    #changelist-filter {
        display: none !important;
    }
    
    /* Main container - full height */
    #content-main {
        display: flex !important;
        flex-direction: row !important;
        width: 100% !important;
        height: 100% !important;
        gap: 20px !important;
        padding: 20px !important;
        box-sizing: border-box !important;
        margin: 0 !important;
    }
    
    /* Filter Sidebar - Fixed width */
    #content-related {
        display: flex !important;
        flex-direction: column !important;
        flex: 0 0 250px !important;
        width: 250px !important;
        min-width: 250px !important;
        max-width: 250px !important;
        background: #f8f9fa !important;
        border-radius: 8px !important;
        padding: 20px !important;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1) !important;
        border: 1px solid #e9ecef !important;
        position: sticky !important;
        top: 20px !important;
        max-height: calc(100vh - 40px) !important;
        overflow-y: auto !important;
        box-sizing: border-box !important;
    }
    
    /* Main Content Area - Flexible width */
    .main-content-area {
        display: flex !important;
        flex: 1 !important;
        flex-direction: column !important;
        min-width: 0 !important;
        width: auto !important;
        box-sizing: border-box !important;
    }
    
    /* Table Container - Full width within main content */
    .table-container {
        display: flex !important;
        flex: 1 !important;
        flex-direction: column !important;
        width: 100% !important;
        background: white !important;
        border-radius: 8px !important;
        overflow: hidden !important;
        box-shadow: 0 2px 4px rgba(0,0,0,0.05) !important;
        border: 1px solid #e2e8f0 !important;
        box-sizing: border-box !important;
    }
    
    /* Table - Full width */
    .results {
        display: flex !important;
        flex: 1 !important;
        flex-direction: column !important;
        width: 100% !important;
        overflow: auto !important;
    }
    
    .results table {
        width: 100% !important;
        border-collapse: collapse !important;
        margin: 0 !important;
        padding: 0 !important;
    }
    
    .results th,
    .results td {
        padding: 12px 16px !important;
        text-align: right !important;
        border-bottom: 1px solid #e2e8f0 !important;
        white-space: nowrap !important;
    }
    
    .results th {
        background: #f8fafc !important;
        font-weight: 600 !important;
        color: #374151 !important;
        position: sticky !important;
        top: 0 !important;
        z-index: 10 !important;
    }
    
    .results tr:nth-child(even) {
        background: #f9fafb !important;
    }
    
    .results tr:hover {
        background: #f3f4f6 !important;
    }
    
    /* Responsive Design */
    @media (max-width: 768px) {
        #content-main {
            flex-direction: column !important;
            gap: 15px !important;
            padding: 15px !important;
        }
        
        #content-related {
            flex: none !important;
            width: 100% !important;
            min-width: auto !important;
            max-width: none !important;
            position: static !important;
            max-height: none !important;
        }
        
        .main-content-area {
            flex: 1 !important;
            width: 100% !important;
        }
    }
    
    /* Override any conflicting styles */
    * {
        box-sizing: border-box !important;
    }
</style>
{% endblock %}



{% block extrajs %}
{{ block.super }}
<script>
// Clean JavaScript - Simple and reliable
document.addEventListener('DOMContentLoaded', function() {
    console.log('üöÄ DOCTORS PAGE: Clean flexbox layout initialized');
    
    // Ensure proper flexbox layout
    const contentMain = document.getElementById('content-main');
    if (contentMain) {
        contentMain.style.cssText = `
            display: flex !important;
            flex-direction: row !important;
            width: 100% !important;
            height: 100% !important;
            gap: 20px !important;
            padding: 20px !important;
            box-sizing: border-box !important;
            margin: 0 !important;
        `;
    }
    
    // Ensure sidebar is properly sized
    const sidebar = document.getElementById('content-related');
    if (sidebar) {
        sidebar.style.cssText = `
            display: flex !important;
            flex-direction: column !important;
            flex: 0 0 250px !important;
            width: 250px !important;
            min-width: 250px !important;
            max-width: 250px !important;
            background: #f8f9fa !important;
            border-radius: 8px !important;
            padding: 20px !important;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1) !important;
            border: 1px solid #e9ecef !important;
            position: sticky !important;
            top: 20px !important;
            max-height: calc(100vh - 40px) !important;
            overflow-y: auto !important;
            box-sizing: border-box !important;
        `;
    }
    
    // Ensure main content area is flexible
    const mainContent = document.querySelector('.main-content-area');
    if (mainContent) {
        mainContent.style.cssText = `
            display: flex !important;
            flex: 1 !important;
            flex-direction: column !important;
            min-width: 0 !important;
            width: auto !important;
            box-sizing: border-box !important;
        `;
    }
    
    // Ensure table container takes full width
    const tableContainer = document.querySelector('.table-container');
    if (tableContainer) {
        tableContainer.style.cssText = `
            display: flex !important;
            flex: 1 !important;
            flex-direction: column !important;
            width: 100% !important;
            background: white !important;
            border-radius: 8px !important;
            overflow: hidden !important;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05) !important;
            border: 1px solid #e2e8f0 !important;
            box-sizing: border-box !important;
        `;
    }
    
    console.log('‚úÖ DOCTORS PAGE: Clean flexbox layout applied successfully');
});
</script>
{% endblock %}